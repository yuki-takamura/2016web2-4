<!DOCTYPE html>
<html>
  <head>
    <meta charset = "UTF-8"/>
    <title>はじめての React!</title>
  </head>
  <body>
    <div class ="page-header">
      <h1>ローカルチャット</h1>
      <div id="container">
    </div>
    
    <link href="//cdn.jsdeliver.net/bootswatch/3.3.7/yeti/bootstrap.min.css" rel ="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
      <script src="//netdna.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
      
    <script src ="https://unpkg.com/react@15.3.2/dist/react.min.js"></script>
    <script src ="https://unpkg.com/react-dom@15.3.2/dist/react-dom.min.js"></script>
    <script src ="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.38/browser.min.js"></script>
    <script type ="text/babel">
      var CommentList = React.CreateClass({
      render:function(){
      var comments = this.props.comments.map(function(comment,index){
      return <li className"list-group-item" key={index}>{comment}</li>;
      });
      return (
      <ul className ="list-group">{comments}</ul>
      );
      }
      });
      
      var CommentApp = React.createClass({
      getInitialState:function(){
      return{
      comments:[],
      inputValue:''
      }
      },
      handleSubmit:function(e){
      e.preventDefault();
      var comment = this.state.inputValue;
      this.setState({
      comments:this.state.comments.concat(comment),
      inputValue:''
      })
      },
      handleChange:function(e){
      this.setState({
      inputValue:e.target.value
      });
      },
      render:function(){
      return (
       <div>
        <form
          className="comment-form"
          onSubmit = {this.handleSubmit}>
          <input
           type ="text"
           value={this.state.inputValue}/>
           onChange ={this.handleChange}/>
           <input type="submit" value="add" />
           </form>
           <CommentList comments={this.state.comments}/>
           </div>
           );
           }
           });
      ReactDOM.render(<CommentApp />, document.getElementById('container'));
    </script> 
  </body>
</html>
